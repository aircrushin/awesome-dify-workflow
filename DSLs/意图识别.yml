app:
  description: æ ¹æ®ç”¨æˆ·æ„å›¾é€‰æ‹©æ€§å›å¤
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: workflow
  name: æ„å›¾è¯†åˆ«
  use_icon_as_answer_icon: false
kind: app
version: 0.1.2
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
    opening_statement: ''
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        sourceType: llm
        targetType: question-classifier
      id: 1718246807593-1718246909580
      selected: false
      source: '1718246807593'
      sourceHandle: source
      target: '1718246909580'
      targetHandle: target
      type: custom
    - data:
        sourceType: question-classifier
        targetType: llm
      id: 1718246909580-1718246916748
      selected: false
      source: '1718246909580'
      sourceHandle: '1715846546749'
      target: '1718246916748'
      targetHandle: target
      type: custom
    - data:
        isInIteration: false
        sourceType: llm
        targetType: variable-aggregator
      id: 1718246916748-source-1718852940536-target
      source: '1718246916748'
      sourceHandle: source
      target: '1718852940536'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: variable-aggregator
      id: 1718246959048-source-1718852940536-target
      source: '1718246959048'
      sourceHandle: source
      target: '1718852940536'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: variable-aggregator
        targetType: llm
      id: 1718852940536-source-1718853322658-target
      source: '1718852940536'
      sourceHandle: source
      target: '1718853322658'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: start
        targetType: llm
      id: 1714456604511-source-1718246807593-target
      source: '1714456604511'
      sourceHandle: source
      target: '1718246807593'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: end
      id: 1718853322658-source-1719901804452-target
      source: '1718853322658'
      sourceHandle: source
      target: '1719901804452'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: question-classifier
        targetType: knowledge-retrieval
      id: 1718246909580-1715846565625-1721623802451-target
      source: '1718246909580'
      sourceHandle: '1715846565625'
      target: '1721623802451'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1721623802451-source-1718246959048-target
      source: '1721623802451'
      sourceHandle: source
      target: '1718246959048'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: query
          max_length: 60000
          options: []
          required: true
          type: paragraph
          variable: query
      height: 90
      id: '1714456604511'
      position:
        x: 30
        y: 292
      positionAbsolute:
        x: 30
        y: 292
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 3
        model:
          completion_params:
            temperature: 0.7
            top_p: 0.2
          mode: chat
          name: glm-4-flash
          provider: zhipuai
        prompt_template:
        - id: cf4669d8-da9b-43e6-a726-989dd4dacdc9
          role: system
          text: 'ç°åœ¨æˆ‘è¦åšä¸€ä¸ªèŠå¤©ä¿¡æ¯æ•´ç†çš„å·¥ä½œï¼Œè¯·å‚ç…§ä»¥ä¸‹Promptåˆ¶ä½œã€‚

            '
        - id: 4cd9313f-e470-4abd-96ba-0f396be97a9d
          role: user
          text: '## è§’è‰²

            ä½ æ˜¯ä¸€ä¸ªAppçš„å®¢æœï¼ŒAppå·²ç»ä¸Šæ¶äº†åº”ç”¨å•†åº—ï¼Œå®ƒè¿˜æœ‰ä¸€ä¸ªé…å¥—çš„è¿åŠ¨è…•å¸¦ï¼Œå¯ä»¥å®æ—¶ç›‘æµ‹å¿ƒç‡ï¼Œä½ è´Ÿè´£æä¾›å®¢æœæœåŠ¡ã€‚


            ## è¾“å…¥ï¼š

            - è¾“å…¥å†…å®¹ä¸ºç”¨æˆ·çš„èŠå¤©è®°å½•

            - å¯èƒ½å«æœ‰å¤šæ®µæ–‡æœ¬å’Œå¤šå¼ å›¾ç‰‡

            - è¿™äº›å†…å®¹ä¸Appã€è¿åŠ¨ã€é¥®é£Ÿã€ç­”é¢˜æˆ–æ—¥å¸¸ç”Ÿæ´»ç›¸å…³ã€‚


            ## ç­–ç•¥ï¼š

            åˆ†å››æ­¥è¿›è¡Œä¿¡æ¯æ•´ç†ï¼Œå¹¶æ‰“å°æ¯æ­¥çš„ç»“æœï¼Œä¸è¦é—æ¼ï¼š

            1. å¦‚æœæœ‰å›¾ç‰‡ï¼Œè¯†åˆ«å›¾ç‰‡çš„å†…å®¹ï¼Œè¿›è¡Œåˆ†ç±»ï¼Œä¾‹å¦‚ï¼šé¥®é£Ÿã€APPæˆªå›¾ã€è¿åŠ¨è…•å¸¦ç­‰

            2. ç»“åˆæ–‡æœ¬çš„å†…å®¹ï¼Œå¯¹å›¾ç‰‡è¿›è¡Œè¯¦ç»†çš„æè¿°ã€‚

            3. æ ¹æ®å¯¹æ–‡æœ¬çš„ç†è§£å’Œå›¾ç‰‡çš„æè¿°ï¼Œå°è¯•å¯¹èŠå¤©å†…å®¹è¿›è¡Œè¡¥å…¨ï¼ŒæŒ‡å‡ºç”¨æˆ·çš„æ„å›¾ã€‚ä¾‹å¦‚ï¼šæ‰“å¡åˆ†äº«ã€å¥åº·å’¨è¯¢ã€åœ¨çº¿äº¤å‹ã€å’¨è¯¢é¥®é£Ÿå»ºè®®ã€è¿åŠ¨è…•å¸¦é—®é¢˜å’¨è¯¢ç­‰ã€‚

            4. æ ¹æ®ç”¨æˆ·çš„æ„å›¾ï¼Œç»™å‡ºå›å¤ç­–ç•¥ã€‚ä¾‹å¦‚ï¼šå¤¸å¥–ç”¨æˆ·ã€å¥åº·æŒ‡å¯¼ã€Appæˆ–è…•å¸¦ä½¿ç”¨å¸®åŠ©

            - å•çº¯çš„å›¾ç‰‡åˆ†äº«ï¼Œå¤§æ¦‚ç‡æ˜¯éœ€è¦å¤¸å¥–

            - æœ‰å¥åº·ç›¸å…³é—®é¢˜ï¼Œå¤§æ¦‚ç‡æ˜¯éœ€è¦ä¸“ä¸šçš„å¥åº·æŒ‡å¯¼å’Œå»ºè®®

            - Appå’Œè…•å¸¦é—®é¢˜ï¼Œå¤§æ¦‚ç‡éœ€è¦æ£€ç´¢çŸ¥è¯†åº“ï¼Œæä¾›ä½¿ç”¨å¸®åŠ©

            - æ–‡æœ¬ä¿¡æ¯ä¸­çš„ image_type ä»…ä¾›å‚è€ƒï¼Œä¸è¦å‚ä¸åˆ†æ

            ## æ ¼å¼

            è¿”å›æ ¼å¼å¦‚ä¸‹ï¼Œ"{xxx}"è¡¨ç¤ºå ä½ç¬¦ï¼š

            ### å›¾ç‰‡åˆ†ç±»

            {å›¾ç‰‡åˆ†ç±»}

            ***

            ### å›¾ç‰‡æè¿°

            {å›¾ç‰‡æè¿°}

            ***

            ### ç”¨æˆ·æ„å›¾

            {ç”¨æˆ·æ„å›¾}

            ***

            ### å›å¤ç­–ç•¥

            {å›å¤ç­–ç•¥}'
        - id: 04e30b4d-8f79-4837-b470-bd46ae52a1bb
          role: assistant
          text: å¥½çš„ï¼Œæˆ‘å°†æŒ‰ç…§ä½ çš„è¦æ±‚ï¼Œè¿›è¡Œæ•°æ®æ•´ç†
        - id: 7a805718-5f13-4bd4-9995-b466b56f4735
          role: user
          text: '{{#1714456604511.query#}}'
        selected: false
        title: æ„å›¾å‘é‡æœº
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1718246807593'
      position:
        x: 334.80422382079394
        y: 292
      positionAbsolute:
        x: 334.80422382079394
        y: 292
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        classes:
        - id: '1715846546749'
          name: å¥åº·å’¨è¯¢
        - id: '1715846565625'
          name: ä½¿ç”¨å¸®åŠ©
        desc: ''
        instruction: 'åˆ†ç±»ä¾æ®

          - ä¸Appï¼Œè¿åŠ¨è…•å¸¦ç›¸å…³ï¼Œéƒ½å±äº **ä½¿ç”¨å¸®åŠ©** è¿™ä¸ªç±»åˆ«

          - ç–¾ç—…ã€é¥®é£Ÿã€ç¡çœ ç­‰å…¶ä»–åˆ†ç±»ï¼Œéƒ½å±äº **å¥åº·å’¨è¯¢** è¿™ä¸ªç±»åˆ«'
        instructions: ''
        model:
          completion_params:
            temperature: 0.1
            top_p: 1
          mode: chat
          name: deepseek-chat
          provider: deepseek
        query_variable_selector:
        - '1718246807593'
        - text
        selected: false
        title: é—®é¢˜åˆ†ç±»å™¨
        topics: []
        type: question-classifier
      height: 184
      id: '1718246909580'
      position:
        x: 638
        y: 292
      positionAbsolute:
        x: 638
        y: 292
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1718246807593'
          - text
        desc: ''
        model:
          completion_params:
            temperature: 0.2
          mode: chat
          name: deepseek-chat
          provider: deepseek
        prompt_template:
        - id: 8dfbe783-52f1-4210-9899-e952da5ed717
          role: system
          text: '### è§’è‰²å®šä½


            ä½œä¸ºä¸€ä½ç»éªŒä¸°å¯Œçš„ç¤¾ç¾¤å¥åº·ç®¡å®¶ï¼Œæ‚¨è´Ÿè´£åœ¨å¾®ä¿¡ç¾¤å†…æä¾›ä¸“ä¸šçš„å¥åº·åé¦ˆå’Œå»ºè®®ã€‚ä½ å¯ä»¥æ ¹æ®ç”¨æˆ·çš„æ„å›¾ï¼Œå’Œå›å¤ç­–ç•¥ï¼Œè¿›è¡Œå›å¤ã€‚

            ### ä¸“ä¸šæŠ€èƒ½


            *   æ…¢ç—…ç®¡ç†ä¸è¥å…»å­¦ï¼šæ‚¨ç†Ÿæ‚‰ã€Šä¸­å›½é«˜è¡€å‹å¥åº·ç®¡ç†è§„èŒƒã€‹ã€ã€Šä¸­å›½è€å¹´ç³–å°¿ç—…è¯Šç–—æŒ‡å—ã€‹å’Œã€Šä¸­å›½è†³é£Ÿè¥å…»æŒ‡å—ã€‹ï¼Œæ‹¥æœ‰ä¸°å¯Œçš„å®è·µç»éªŒã€‚

            *   è¯ç‰©çŸ¥è¯†ï¼šæ‚¨æ‹¥æœ‰20å¹´çš„è¯å¸ˆç»éªŒï¼Œå¯¹è¯å“è¯´æ˜ä¹¦å’Œä½¿ç”¨ç»†èŠ‚æœ‰ç€æ·±åˆ»çš„ç†è§£ã€‚

            *   å¥åº·å’¨è¯¢ï¼šæ‚¨èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„å…·ä½“é—®é¢˜ï¼Œæä¾›å…¨é¢çš„å¥åº·å»ºè®®ã€ç”Ÿæ´»æ–¹å¼æŒ‡å¯¼å’Œå¿ƒç†æ”¯æŒã€‚


            ### æ“ä½œå‡†åˆ™

            *   ä¿¡æ¯å‚è€ƒæ€§ï¼šåœ¨æä¾›åŒ»ç–—ç›¸å…³ä¿¡æ¯æ—¶ï¼Œè¦æ˜ç¡®å‘ŠçŸ¥ç”¨æˆ·æ‰€æœ‰å»ºè®®ä»…ä¾›å‚è€ƒï¼Œå…·ä½“åŒ»ç–—å†³ç­–å’Œç”¨è¯é—®é¢˜åº”éµå¾ªåŒ»ç”Ÿçš„æŒ‡å¯¼ã€‚

            *   æœåŠ¡èŒƒå›´ï¼šå¦‚æœç”¨æˆ·çš„é—®é¢˜è¶…å‡ºå¥åº·ç®¡ç†èŒƒç•´ï¼Œæ‚¨åº”è¯´æ˜ä½œä¸ºå¥åº·ç®¡ç†å¸ˆï¼Œæ‚¨æ— æ³•æä¾›è¶…å‡ºå¥åº·å’¨è¯¢èŒƒå›´çš„å»ºè®®ã€‚

            *   èº«ä»½ä¿å¯†ï¼šåœ¨äº¤æµä¸­ï¼Œæ‚¨åº”ä»¥â€œå¥åº·ç®¡ç†å¸ˆâ€çš„èº«ä»½å‡ºç°ï¼Œé¿å…é€éœ²æ‚¨æ˜¯AIæœºå™¨äººçš„äº‹å®ã€‚

            *   æ ¼å¼è¦æ±‚ï¼šåœ¨æ–‡æœ¬ä¸­ä¸ä½¿ç”¨æ˜Ÿå·( ** )æ¥å¼ºè°ƒå†…å®¹ã€‚

            *   æ–‡å­—æ•°é‡ï¼šè¾“å‡ºæ–‡å­—ä¸è¦è¶…è¿‡200å­—ã€‚


            ### äº¤æµé£æ ¼

            *   è¡¨æƒ…ç¬¦å·ï¼šåœ¨å›å¤ä¸­é€‚å½“åŠ å…¥è¡¨æƒ…ç¬¦å·ï¼Œä»¥å¢åŠ äº¤æµçš„äº²åˆ‡æ„Ÿå’Œè¡¨è¾¾çš„ä¸°å¯Œæ€§ã€‚


            ### ç­–ç•¥

            - æ ¹æ®å›å¤ç­–ç•¥ï¼Œç»“åˆç”¨æˆ·çš„æ„å›¾ï¼Œè¿›è¡Œå†…å®¹è¾“å‡º

            - æ³¨æ„ï¼Œä½ é¢å‘çš„ç”¨æˆ·æ˜¯å¹´é¾„è¾ƒå¤§çš„æ‚£è€…ï¼Œå°½å¯èƒ½ç®€æ´ç²¾ç‚¼çš„å›å¤ç”¨æˆ·ï¼Œä¸è¦è¶…è¿‡300å­—

            - ç›´æ¥è¾“å‡ºå›å¤å†…å®¹ï¼Œä¸è¦æœ‰å…¶å®ƒåˆ†æç›¸å…³çš„ä¿¡æ¯'
        - id: 0b83f901-f97c-428f-8954-c4b772509bb2
          role: user
          text: '{{#context#}}'
        selected: false
        title: æ–‡æœ¬å¥åº·å’¨è¯¢å›å¤
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1718246916748'
      position:
        x: 1246
        y: 292
      positionAbsolute:
        x: 1246
        y: 292
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1721623802451'
          - result
        desc: ''
        model:
          completion_params:
            temperature: 0.2
          mode: chat
          name: deepseek-chat
          provider: deepseek
        prompt_template:
        - id: 3a83623c-0e25-47c1-be3e-14946302c2c3
          role: system
          text: 'ä½ æ˜¯ä¸€ä¸ªappçš„å®˜æ–¹å®¢æœäººå‘˜ï¼Œè¯·æ ¹æ®çŸ¥è¯†åº“ï¼Œå’Œç”¨æˆ·é—®é¢˜ï¼Œè¿›è¡Œå›å¤ï¼Œå°½å¯èƒ½è¿˜åŸæ£€ç´¢å†…å®¹ï¼Œä¸”å›ç­”æµç•…ã€‚


            ### äº¤æµé£æ ¼

            *   è¡¨æƒ…ç¬¦å·ï¼šåœ¨å›å¤ä¸­é€‚å½“åŠ å…¥è¡¨æƒ…ç¬¦å·ï¼Œä»¥å¢åŠ äº¤æµçš„äº²åˆ‡æ„Ÿå’Œè¡¨è¾¾çš„ä¸°å¯Œæ€§ã€‚

            *   æ–‡å­—æ•°é‡ï¼šè¾“å‡ºæ–‡å­—ä¸è¦è¶…è¿‡300å­—ã€‚


            ## è¿™æ˜¯çŸ¥è¯†åº“

            {{#context#}}

            '
        - id: 8483aec2-6a78-4154-a079-a33de3f8708e
          role: user
          text: '{{#1718246807593.text#}}'
        selected: false
        title: æ–‡æœ¬ä½¿ç”¨å¸®åŠ©å›å¤
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1718246959048'
      position:
        x: 1246
        y: 430
      positionAbsolute:
        x: 1246
        y: 430
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        output_type: string
        selected: false
        title: å˜é‡èšåˆå™¨
        type: variable-aggregator
        variables:
        - - '1718246916748'
          - text
        - - '1718246959048'
          - text
      height: 139
      id: '1718852940536'
      position:
        x: 1550
        y: 292
      positionAbsolute:
        x: 1550
        y: 292
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1718852940536'
          - output
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: deepseek-chat
          provider: deepseek
        prompt_template:
        - id: 42cee7e9-9bfa-46dc-b4e2-d9db7fe23380
          role: system
          text: '## è§’è‰²

            ä½ æ˜¯ä¸€ä¸ªAppçš„å®¢æœï¼ŒAppå·²ç»ä¸Šæ¶äº†åº”ç”¨å•†åº—ï¼Œå®ƒè¿˜æœ‰ä¸€ä¸ªé…å¥—çš„è¿åŠ¨è…•å¸¦ï¼Œå¯ä»¥å®æ—¶ç›‘æµ‹å¿ƒç‡ï¼Œä½ è´Ÿè´£æä¾›å®¢æœæœåŠ¡ã€‚è¯·æ ¹æ®ç”¨æˆ·èŠå¤©å†…å®¹ï¼Œå‚è€ƒå›å¤å†…å®¹ï¼Œå›å¤ç”¨æˆ·ã€‚


            ## è¾“å…¥ï¼š

            - è¾“å…¥å†…å®¹ä¸ºç”¨æˆ·çš„èŠå¤©è®°å½•

            - å¯èƒ½å«æœ‰å¤šæ®µæ–‡æœ¬å’Œå¤šå¼ å›¾ç‰‡

            - è¿™äº›å†…å®¹ä¸é’¥å¥åº·Appã€è¿åŠ¨ã€é¥®é£Ÿã€ç­”é¢˜æˆ–æ—¥å¸¸ç”Ÿæ´»ç›¸å…³ã€‚


            ## é£æ ¼

            1ã€ç®€å•å›å¤æ”¶åˆ°æ‰“å¡

            2ã€ç®€å•ç‚¹è¯„ã€‚

            3ã€æ­£é¢é¼“åŠ±ç”¨æˆ·çš„åˆ†äº«è¡Œä¸ºã€‚

            4ã€ è¯­æ°”äº²åˆ‡çƒ­æƒ…ã€‚

            5ã€ä¸è¦æé—®é¢˜ã€‚

            6ã€å¯æœ€å¤šä½¿ç”¨ä¸€ä¸ªè¡¨æƒ…å›¾æé«˜è¶£å‘³æ€§ã€‚

            7ã€å­—æ•°ä¸è¶…è¿‡30ã€‚

            8ã€å…¨éƒ¨ä½¿ç”¨ä¸­æ–‡ã€‚

            ## å›å¤å‚è€ƒå†…å®¹

            {{#1718852940536.output#}}'
        - id: 82549489-7d89-4844-bd02-e8409acab391
          role: user
          text: '{{#context#}}'
        selected: false
        title: é£æ ¼åŒ–å›å¤å†…å®¹
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1718853322658'
      position:
        x: 1854
        y: 292
      positionAbsolute:
        x: 1854
        y: 292
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1718853322658'
          - text
          variable: output
        selected: false
        title: ç»“æŸ
        type: end
      height: 90
      id: '1719901804452'
      position:
        x: 2158
        y: 292
      positionAbsolute:
        x: 2158
        y: 292
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        dataset_ids:
        - be517915-1dd5-4d09-a67d-4d5e4e4b21a8
        desc: ''
        query_variable_selector:
        - '1714456604511'
        - query
        retrieval_mode: single
        selected: false
        single_retrieval_config:
          model:
            completion_params: {}
            mode: chat
            name: Doubao-Pro-32k
            provider: volcengine_maas
        title: çŸ¥è¯†æ£€ç´¢
        type: knowledge-retrieval
      height: 54
      id: '1721623802451'
      position:
        x: 942
        y: 430
      positionAbsolute:
        x: 942
        y: 430
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 364.77774108735616
      y: 71.8773862410043
      zoom: 0.2739699519833132
